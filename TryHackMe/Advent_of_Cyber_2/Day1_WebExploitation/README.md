# [Day 1] Web Exploitation - A christmas Crisis

> César Martínez | 19 December 2020

## Writeup

For this writeup, we are going to use the AttackBox that THM provides us. So we just deploy that as well as the machine.

### 1. What is the name of the cookie used for authentication?
```
auth
```
When we place the machine's IP into our browser, we get a login form into the Christmas Control Centre. We can create a user by just filling the blanks and clicking __Register!__.
After we register, we now have to log in with those same credentials.\
When logged in, we now have to check the cookie that was created. For that we open the developer tools of the browser, which normally can be opened with F12. Inside of the developer tools, click on the Storage Tab and you should see the IP of the machine inside of the cookies section, as well as the cookie to the right.

### 2. In what format is the value of this cookie encoded?
```
Hexadecimal
```

### 3. Having decoded the cookie, what format is the data stored in?
```
JSON
```
We can simply search for a hex decoder on google. If we copy and paste the value of our cookie, we should get something like this:
```
{"company":"The Best Festival Company", "username":"user"}
```
This format is known as JSON.

### 4. What is the value of Santa's cookie?
```
7b22636f6d70616e79223a22546865204265737420466573746976616c20436f6d70616e79222c2022757365726e616d65223a2275736572227d
```
We know that we can edit the value of the cookie, and we need to log in as 'santa', so we are just going to edit the user inside de JSON string and encode it back to HEX.
__New JSON string:__
```json
{"company":"The Best Festival Company", "username":"santa"}
```
__New HEX:__:
```
7b22636f6d70616e79223a22546865204265737420466573746976616c20436f6d70616e79222c2022757365726e616d65223a2273616e7461227d
```
Just copy the new HEX and paste it in the value column of the cookie. After that just refresh the page. You should now be santa.

### 5. What is the flag you're given when the line is fully active?

The flag is displayed after activating the assembly line.


